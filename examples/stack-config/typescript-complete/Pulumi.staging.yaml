# Staging stack configuration
# To set up this stack:
#   pulumi stack init staging
#   pulumi config set webflow:apiToken <your-staging-token> --secret

config:
  webflow:apiToken:
    secure: # Run: pulumi config set webflow:apiToken <token> --secret
  environmentName: staging

  # Staging: Same sites as prod, but still blocking indexing
  # Used for final validation before production deployment
  sites:
    marketing:
      displayName: "Marketing Site (Staging)"
      shortName: "marketing-staging"
      timeZone: "America/New_York"
      allowIndexing: false  # Block search engines in staging
      redirects:
        - sourcePath: "/old-pricing"
          destinationPath: "/pricing"
          statusCode: 301

    docs:
      displayName: "Documentation (Staging)"
      shortName: "docs-staging"
      timeZone: "America/New_York"
      allowIndexing: false
      redirects:
        - sourcePath: "/v1"
          destinationPath: "/docs/v1"
          statusCode: 301

    blog:
      displayName: "Engineering Blog (Staging)"
      shortName: "blog-staging"
      timeZone: "America/Los_Angeles"
      allowIndexing: false
