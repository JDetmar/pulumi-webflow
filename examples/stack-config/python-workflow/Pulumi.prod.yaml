# Production stack configuration
# CAREFUL: This is the production environment!
#
# To set up this stack:
#   pulumi stack init prod
#   pulumi config set webflow:apiToken <your-prod-token> --secret
#   pulumi config set prodDeploymentConfirmed yes  # Safety confirmation
#
# To deploy:
#   pulumi stack select prod
#   pulumi preview  # Always review before deploying to prod
#   pulumi up

config:
  webflow:apiToken:
    secure: # Run: pulumi config set webflow:apiToken <token> --secret
  environmentName: prod
  prodDeploymentConfirmed: "no"  # Change to "yes" to allow production deployments

  # Production: real sites with indexing and all redirects
  sites:
    marketing:
      displayName: "Acme Corp - Marketing"
      shortName: "acme-marketing"
      timeZone: "America/New_York"
      allowIndexing: true
      redirects:
        - sourcePath: "/old-pricing"
          destinationPath: "/pricing"
          statusCode: 301
        - sourcePath: "/legacy"
          destinationPath: "/"
          statusCode: 301

    docs:
      displayName: "Acme Corp - Documentation"
      shortName: "acme-docs"
      timeZone: "America/New_York"
      allowIndexing: true
      redirects:
        - sourcePath: "/v1"
          destinationPath: "/docs/v1"
          statusCode: 301
        - sourcePath: "/api-reference"
          destinationPath: "/docs/api"
          statusCode: 301

    blog:
      displayName: "Acme Corp - Engineering Blog"
      shortName: "acme-blog"
      timeZone: "America/Los_Angeles"
      allowIndexing: true
      redirects:
        - sourcePath: "/feed"
          destinationPath: "/rss.xml"
          statusCode: 301
